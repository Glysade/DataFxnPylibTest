{"executorId":0,"id":"dbef853b-a08c-4b2d-8652-ca4d4fac5cee","dataFxnDefId":"db2af994-2c2e-c6aa-4495-e4bdce0d8edb","serviceName":"AntibodyStructurePrediction","assembly":null,"tableId":"38f1d805-eac4-428e-a586-353180807c7a","inputFields":{"uiAbSeqCol":{"id":"uiAbSeqCol","dataType":"string","contentType":null,"selectorType":"column","adapterColumn":null,"limitBy":null,"limitByMarking":null,"data":"38f1d805-eac4-428e-a586-353180807c7asConcatenated_Seq"},"uiIDCol":{"id":"uiIDCol","dataType":"string","contentType":null,"selectorType":"column","adapterColumn":null,"limitBy":null,"limitByMarking":null,"data":"38f1d805-eac4-428e-a586-353180807c7asID"},"uiLimitBy":{"id":"uiLimitBy","dataType":"string","contentType":null,"selectorType":null,"adapterColumn":null,"limitBy":null,"limitByMarking":null,"data":"none"},"uiLimitByMarking":{"id":"uiLimitByMarking","dataType":"string","contentType":null,"selectorType":null,"adapterColumn":null,"limitBy":null,"limitByMarking":null,"data":"Marking"},"uiSaveAll":{"id":"uiSaveAll","dataType":"boolean","contentType":null,"selectorType":null,"adapterColumn":null,"limitBy":null,"limitByMarking":null,"data":false},"uiRefineAll":{"id":"uiRefineAll","dataType":"boolean","contentType":null,"selectorType":null,"adapterColumn":null,"limitBy":null,"limitByMarking":null,"data":false},"uiDoNumbering":{"id":"uiDoNumbering","dataType":"boolean","contentType":null,"selectorType":null,"adapterColumn":null,"limitBy":null,"limitByMarking":null,"data":false},"uiNumberingScheme":{"id":"uiNumberingScheme","dataType":"string","contentType":null,"selectorType":null,"adapterColumn":null,"limitBy":null,"limitByMarking":null,"data":"imgt"},"uiCDRdef":{"id":"uiCDRdef","dataType":"string","contentType":null,"selectorType":null,"adapterColumn":null,"limitBy":null,"limitByMarking":null,"data":"imgt"}},"genericInputColumns":null,"inputArguments":null,"maximumOutputColumns":0,"maximumOutputTables":1,"resultTables":null,"serviceUri":"glysade.python.mab","inputColumns":{"38f1d805-eac4-428e-a586-353180807c7asConcatenated_Seq":{"dataType":"string","name":"Concatenated_Seq","columnId":"38f1d805-eac4-428e-a586-353180807c7asConcatenated_Seq","limitBy":null,"limitByMarking":null,"contentType":"chemical/x-sequence","properties":{"Name":"Concatenated_Seq","ColumnType":"Imported","DataType":"String","ExternalName":"Concatenated_Seq","IsValid":"True","Expression":"","Comparer":"Spotfire.Dxp.Data.Cxx.StringDataComparer","Formatter":"Spotfire.Dxp.Data.Formatters.StringFormatter","Origin":"AntibodySeqs_UnitTests","Description":"","Dimension":""},"dfResultProperties":{},"values":["ELVMTQTPLSLPVSLGDQASISCRSSQSIVHSNGNTYLEWYLQKPGQSPKLLIYKVSNRFSGVPDRFSGSGSGTDFTLKISRVEAEDLGVYYCFQGSHVPRTFGGGTKLEIKQVQLVESGGGLVQPGGSLRLSCATSGFTFTDYYMSWVRQPPGKALEWLGFIRNKANGYTTEYSASVKGRFTISRDNSQSILYLQMNTLRAEDSATYYCARDGSYAMDYWGQGTSVTVSS","EIVLTQSPGTLSLSPGERATLSCKASQSVDYDGDSYMNWYQQKPGQAPRLLIYAASNLESGIPDRFSGSGSGTDFTLTISRLEPEDFAVYYCQQSNEDPRTFGQGTKLEIKQVQLVQSGAEVKKPGASVKVSCKASGYTFTSYWMQWVKQAPGQGLEWMGEIDPSDSYTNYNQKFKGKATLTVDTSTSTAYMELSSLRSEDTAVYYCARNRDYSNNWYFDVWGEGTLVTVSS","DIQMTQSPASLSASVGETVTITCRASGNIHNYLAWYQQKQGKSPQLLVYNAKTLADGVPSRFSGSGSGTQYSLKINSLQPEDFGTYYCHHFWSTPWTFGGGTKLEVKQIQLVQSGPELKKPGETVRISCKASDYSFMTSGMQWVQQMPGKGLKWIGWLNTQSGVPEYAEDFKGRFAFSLETSATTAYLQINNLKNEDTATYFCATWGGNSAYWGQGTTLTVSS","DIVLTQSPKSMSMSVGEKVTLSCKASENVDTYVSWYQQRPEQPPALLIYGASNRYTGVPDRFTGSGSATDFTLTISSVQAEDLADYHCGQSYSYPLTFGGGTKLELKQVKLQQSGPGLVKPSQSLSLTCTVTGYSITSDYAWNWIRQFPGNKLEWMAYISYSGSTTYNPSLKSRISITRDTSKNQFFLQLNSVTTEDTAIYYCARGGTGFDYWGAGTTLTVSA","QVQLVESGGGLVQPGGSLRLSCATSGFTFTDYYMSWVRQPPGKALEWLGFIRNKANGYTTEYSASVKGRFTISRDNSQSILYLQMNTLRAEDSATYYCARDGSYAMDYWGQGTSVTVSSELVMTQTPLSLPVSLGDQASISCRSSQSIVHSNGNTYLEWYLQKPGQSPKLLIYKVSNRFSGVPDRFSGSGSGTDFTLKISRVEAEDLGVYYCFQGSHVPRTFGGGTKLEIK","QVQLVQSGAEVKKPGASVKVSCKASGYTFTSYWMQWVKQAPGQGLEWMGEIDPSDSYTNYNQKFKGKATLTVDTSTSTAYMELSSLRSEDTAVYYCARNRDYSNNWYFDVWGEGTLVTVSSEIVLTQSPGTLSLSPGERATLSCKASQSVDYDGDSYMNWYQQKPGQAPRLLIYAASNLESGIPDRFSGSGSGTDFTLTISRLEPEDFAVYYCQQSNEDPRTFGQGTKLEIK","QIQLVQSGPELKKPGETVRISCKASDYSFMTSGMQWVQQMPGKGLKWIGWLNTQSGVPEYAEDFKGRFAFSLETSATTAYLQINNLKNEDTATYFCATWGGNSAYWGQGTTLTVSSDIQMTQSPASLSASVGETVTITCRASGNIHNYLAWYQQKQGKSPQLLVYNAKTLADGVPSRFSGSGSGTQYSLKINSLQPEDFGTYYCHHFWSTPWTFGGGTKLEVK","QVKLQQSGPGLVKPSQSLSLTCTVTGYSITSDYAWNWIRQFPGNKLEWMAYISYSGSTTYNPSLKSRISITRDTSKNQFFLQLNSVTTEDTAIYYCARGGTGFDYWGAGTTLTVSADIVLTQSPKSMSMSVGEKVTLSCKASENVDTYVSWYQQRPEQPPALLIYGASNRYTGVPDRFTGSGSATDFTLTISSVQAEDLADYHCGQSYSYPLTFGGGTKLELK"]},"38f1d805-eac4-428e-a586-353180807c7asID":{"dataType":"string","name":"ID","columnId":"38f1d805-eac4-428e-a586-353180807c7asID","limitBy":null,"limitByMarking":null,"contentType":null,"properties":{"Name":"ID","ColumnType":"Imported","DataType":"String","ExternalName":"ID","IsValid":"True","Expression":"","Comparer":"Spotfire.Dxp.Data.Cxx.StringDataComparer","Formatter":"Spotfire.Dxp.Data.Formatters.StringFormatter","Origin":"AntibodySeqs_UnitTests","Description":"","SpotfireDefaultCategory":"Identifiers"},"dfResultProperties":{},"values":["1fl5_LH","1it9_LH","1jhk_LH","1kcu_LH","1fl5_HL","1it9_HL","1jhk_HL","1kcu_HL"]}},"webServiceRequest":null,"requestId":-1,"tkid":null,"script":null,"updateBehavior":"manual","allowedClients":["Analyst","WebPlayer"],"limitBy":"none","runtimeLimitBy":"none","runtimeLimitByMarking":null,"ironPython":"#####################################################\n#  Copyright 2023 Glysade LLC, All Rights Reserved  #\n#####################################################\n\nimport sys,clr\nfrom Spotfire.Dxp.Application import Panel, PanelTypeIdentifiers\nfrom Spotfire.Dxp.Application.Layout import LayoutDefinition\nimport Spotfire.Dxp.Application.PanelCollection\nfrom System import AppDomain\n\nloadAssemblies = ['Charts', 'ChemistryService', 'Common']\nfor asm in AppDomain.CurrentDomain.GetAssemblies():\n    if asm.GetName().Name in loadAssemblies:\n        clr.AddReference(asm.FullName)\n\nfrom Common import ColumnIdService\nfrom ChemistryService import DataFxnInput, DataFxnRequest, DataFxnInputField\nfrom Charts import ChartsModel\nmodel_type = ChartsModel\n\ndataTable = ResultTables[0]\nstructureColumn = dataTable.Columns['Compressed Structures']\ntableId = dataTable.Id.ToString()\nidSvc = Application.GetService[ColumnIdService]()\n\nif not dataTable:\n    raise Exception('target table not found')\n\npage = Document.Pages.AddNew('Antibody Structure Prediction Results')\npanelsToHide = [PanelTypeIdentifiers.DataPanel, PanelTypeIdentifiers.DetailsOnDemandPanel, PanelTypeIdentifiers.FilterPanel]\n\nfor panel in page.Panels:\n    if panel.TypeId in panelsToHide:\n        if panel.Visible:\n            panel.Visible = False\n\nfilteringScheme = Document.FilteringSchemes[0]\npage.FilterPanel.FilteringSchemeReference = filteringScheme\n\ntableVis = page.Visuals.AddNew[model_type]()\ntableVis.SetKeyValue('visualization','table-visualization')\ntableVis.DataTable = dataTable\ntableVis.ConfigureColumns()\ntableVis.Marking = Document.Data.Markings.DefaultMarkingReference\n\nalignedSequenceColumn = None\nfor column in dataTable.Columns:\n    if column.Properties.ContentType != 'chemical/x-genbank' and column.Name.Contains('Aligned Sequence'):\n        alignedSequenceColumn = column\n        break\n\nbiomolVis = page.Visuals.AddNew[model_type]()\n\nif alignedSequenceColumn:\n    biomolVis.SetKeyValue(tableId+'.biomolviewer-visualization.bioMolViewer.sequenceColumnId', idSvc.GetID(alignedSequenceColumn))\nif structureColumn:\n    biomolVis.SetKeyValue(tableId+'.biomolviewer-visualization.bioMolViewer.defaultDisplayObjects', '[[\"'+idSvc.GetID(structureColumn)+'\",{\"contacts\":{\"contextColumnId\":\"none\",\"labelsVisible\":true,\"visible\":false},\"structure\":{\"color\":{\"color\":\"#808080\",\"scheme\":\"element\",\"reverse\":false,\"scale\":\"OrRd\"},\"contextDistance\":10,\"contextColumnId\":\"none\",\"contextFilterSele\":\"\",\"displayUnmappedChains\":true,\"hydrogenStyle\":\"none\",\"style\":\"line\",\"visible\":true,\"water\":true},\"surface\":{\"color\":{\"color\":\"#808080\",\"scheme\":\"uniform\",\"reverse\":false,\"scale\":\"OrRd\"},\"contextColumnId\":\"none\",\"contextDistance\":5,\"filterSele\":\"\",\"opacity\":0.7,\"type\":\"av\",\"visible\":false,\"wireframe\":false},\"protein\":{\"tube\":{\"color\":{\"color\":\"#808080\",\"scheme\":\"bfactor\",\"reverse\":false,\"scale\":\"OrRd\"},\"visible\":false},\"cartoon\":{\"color\":{\"color\":\"#808080\",\"scheme\":\"bfactor\",\"reverse\":false,\"scale\":\"OrRd\"},\"visible\":true}},\"visible\":true}]]')\nbiomolVis.SetKeyValue('visualization','biomolviewer-visualization')\nbiomolVis.DataTable = dataTable\nbiomolVis.ConfigureColumns()\nbiomolVis.Marking = Document.Data.Markings.DefaultMarkingReference\n\nlayout = LayoutDefinition()\nlayout.BeginSideBySideSection()\nlayout.Add(biomolVis.Visual, 75.0)\nlayout.Add(tableVis.Visual, 25.0)\nlayout.EndSection()\npage.ApplyLayout(layout)\n\ntableVis.SetActiveVisual()","chartsFxnType":null,"chartsRequest":null,"documentProperties":[{"name":"Description","dataType":"string","value":"","description":"A description of the document."},{"name":"AllowWebPlayerResume","dataType":"string","value":"True","description":"A web client setting where you can allow users to resume at the last known state when they are launching a previously opened analysis."},{"name":"MaxMissingTimeParts","dataType":"integer","value":500000,"description":"Specifies the maximum number of time parts to insert when compensating for missing time series values."},{"name":"FiscalYearOffset","dataType":"integer","value":0,"description":"Specifies the number of months from the start of the calendar year to the start of the fiscal year.\r\nFor instance, a value of -1 specifies that the fiscal year starts in December of the previous calendar year, whereas a value of 2 specifies that it starts in March of the current calendar year."}],"broadcastChannel":"dataFxnService","dataFxnCategory":"dataFxnService"}